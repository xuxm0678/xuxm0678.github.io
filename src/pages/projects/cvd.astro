---
import { motion } from "framer-motion";
import CVDRiskDemo from "~/components/CVDRiskDemo.tsx";

// Page metadata
const PAGE_TITLE = "Cardiovascular Risk Prediction";
const PAGE_DESC = "AI-enabled risk scoring system integrating wearable, behavioral, and clinical data for interpretable digital health monitoring.";
---

<!-- ===== Full-width Page Layout (replaces PageLayout wrapper) ===== -->
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content={PAGE_DESC} />
    <title>{PAGE_TITLE}</title>
  </head>

  <body class="bg-white text-gray-900 dark:bg-gray-950 dark:text-white">
    
    <!-- ===== Fixed Glass Navigation ===== -->
    <header class="fixed top-0 left-0 w-full z-50 backdrop-blur-md bg-white/70 dark:bg-gray-900/60 border-b border-gray-200/60 dark:border-gray-800/60">
      <div class="max-w-[1600px] mx-auto px-8 h-16 flex items-center justify-between">
        <a href="/" class="text-base font-medium hover:text-cyan-500 transition">← Back to Home</a>

        <nav class="hidden sm:flex items-center gap-6 text-sm font-medium text-gray-700 dark:text-gray-300">
          <a href="#background" class="hover:text-cyan-500 transition">Background</a>
          <a href="#objective" class="hover:text-cyan-500 transition">Objective</a>
          <a href="#methods" class="hover:text-cyan-500 transition">Methods</a>
          <a href="#findings" class="hover:text-cyan-500 transition">Findings</a>
          <a href="#demo" class="hover:text-cyan-500 transition">Demo</a>
          <a href="#impact" class="hover:text-cyan-500 transition">Impact</a>
        </nav>
      </div>
    </header>

    <!-- Page Spacer (so hero isn't hidden behind header) -->
    <div class="h-20"></div>

    <!-- ===== HERO SECTION ===== -->
    <section id="hero" class="relative w-full py-32 text-center bg-gradient-to-b from-blue-50 via-white to-cyan-50 dark:from-gray-900 dark:via-gray-950 dark:to-gray-900">
      <div class="max-w-[1600px] mx-auto px-8">
        <motion.h1
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.6 }}
          class="text-6xl sm:text-7xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-teal-400"
        >
          Cardiovascular Risk Prediction
        </motion.h1>

        <motion.p
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.7, delay: 0.15 }}
          class="mt-8 text-lg text-gray-700 dark:text-gray-300 max-w-3xl mx-auto leading-relaxed"
        >
          Reimagining cardiovascular risk scoring with interpretable AI, real-world wearable signals, 
          and behavioral data for proactive digital health monitoring.
        </motion.p>

        <!-- Placeholder hero illustration -->
        <motion.img
          src="/assets/images/cvd-hero.png"
          alt="AI Wearable Health Visualization"
          class="mx-auto mt-14 w-full max-w-3xl rounded-3xl shadow-xl"
          initial={{ opacity: 0, scale: 0.96 }}
          animate={{ opacity: 1, scale: 1 }}
          transition={{ duration: 0.7, delay: 0.25 }}
        />
      </div>
    </section>

    <!-- ===== BACKGROUND SECTION ===== -->
    <section id="background" class="py-32 bg-gradient-to-r from-white to-gray-50 dark:from-gray-950 dark:to-gray-900">
      <div class="max-w-[1600px] mx-auto grid lg:grid-cols-2 gap-20 px-8 items-center">

        <!-- Text -->
        <div>
          <h2 class="text-4xl font-bold text-blue-600 dark:text-blue-400 mb-6">Background</h2>
          <p class="text-lg text-gray-700 dark:text-gray-300 leading-relaxed mb-4">
            Cardiovascular disease (CVD) remains the leading global cause of mortality. 
            Traditional models such as Framingham and ASCVD rely on static clinical measures,
            overlooking dynamic physiological and behavioral factors.
          </p>
          <p class="text-lg text-gray-700 dark:text-gray-300 leading-relaxed">
            Wearable devices now provide continuous signals—<strong>heart rate, sleep efficiency, activity level</strong>—
            offering real-time insight into lifestyle-driven cardiovascular burden.
          </p>
        </div>

        <!-- Illustration placeholder -->
        <div class="flex justify-center">
          <img src="/assets/images/cvd-bg.png" alt="Wearable data visualization"
            class="rounded-3xl shadow-xl w-full max-w-lg object-cover" />
        </div>
      </div>
    </section>

    <!-- ===== OBJECTIVE SECTION ===== -->
    <section id="objective" class="py-32 bg-gradient-to-b from-teal-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-950 dark:to-gray-900 text-center">
      <div class="max-w-[1400px] mx-auto px-8">
        <h2 class="text-4xl font-semibold mb-6 text-gray-800 dark:text-white">Objective</h2>
        <p class="text-lg text-gray-700 dark:text-gray-300 max-w-3xl mx-auto leading-relaxed">
          Build a reproducible pipeline integrating wearable signals and behavioral data 
          to estimate CVD risk and visualize factor importance using <strong>SHAP-style feature attributions</strong>.
        </p>
      </div>
    </section>

    <!-- ===== METHODS SECTION ===== -->
    <section id="methods" class="py-32 bg-white dark:bg-gray-900">
      <div class="max-w-[1600px] mx-auto px-8 text-center">

        <h2 class="text-4xl font-bold text-gray-900 dark:text-white mb-14">Methods</h2>

        <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-10 mt-10">

          <!-- Card 1 -->
          <motion.div
            client:visible
            initial={{ opacity: 0, y: 30 }}
            whileInView={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5 }}
            class="p-8 rounded-2xl bg-white/90 dark:bg-gray-800 shadow-md hover:shadow-xl transition border border-gray-200/70 dark:border-gray-700/70"
          >
            <i class="lucide-database w-8 h-8 text-blue-500 mb-4"></i>
            <h3 class="text-xl font-semibold mb-2 text-gray-900 dark:text-white">Data Inputs</h3>
            <p class="text-gray-700 dark:text-gray-300 text-sm leading-relaxed">
              Wearable signals and survey data — resting HR, sleep, activity, BMI,
              alcohol use, hypertension, diabetes, etc.
            </p>
          </motion.div>

          <!-- Card 2 -->
          <motion.div
            client:visible
            initial={{ opacity: 0, y: 30 }}
            whileInView={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.6 }}
            class="p-8 rounded-2xl bg-white/90 dark:bg-gray-800 shadow-md hover:shadow-xl transition border border-gray-200/70 dark:border-gray-700/70"
          >
            <i class="lucide-cpu w-8 h-8 text-cyan-500 mb-4"></i>
            <h3 class="text-xl font-semibold mb-2 text-gray-900 dark:text-white">Modeling</h3>
            <p class="text-gray-700 dark:text-gray-300 text-sm leading-relaxed">
              Linear regression and <strong>XGBoost</strong> to capture nonlinear and interaction effects,
              validated via 5×3 repeated CV (R² ≈ 0.63).
            </p>
          </motion.div>

          <!-- Card 3 -->
          <motion.div
            client:visible
            initial={{ opacity: 0, y: 30 }}
            whileInView={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.7 }}
            class="p-8 rounded-2xl bg-white/90 dark:bg-gray-800 shadow-md hover:shadow-xl transition border border-gray-200/70 dark:border-gray-700/70"
          >
            <i class="lucide-bar-chart w-8 h-8 text-teal-500 mb-4"></i>
            <h3 class="text-xl font-semibold mb-2 text-gray-900 dark:text-white">Interpretation</h3>
            <p class="text-gray-700 dark:text-gray-300 text-sm leading-relaxed">
              SHAP values reveal the individual-level influence of behavioral
              and physiological factors on predicted risk.
            </p>
          </motion.div>

          <!-- Card 4 -->
          <motion.div
            client:visible
            initial={{ opacity: 0, y: 30 }}
            whileInView={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.8 }}
            class="p-8 rounded-2xl bg-white/90 dark:bg-gray-800 shadow-md hover:shadow-xl transition border border-gray-200/70 dark:border-gray-700/70"
          >
            <i class="lucide-activity w-8 h-8 text-purple-500 mb-4"></i>
            <h3 class="text-xl font-semibold mb-2 text-gray-900 dark:text-white">Outcome</h3>
            <p class="text-gray-700 dark:text-gray-300 text-sm leading-relaxed">
              Composite risk index capturing multidimensional cardiovascular
              burden for personalized digital prevention.
            </p>
          </motion.div>

        </div>
      </div>
    </section>

    <!-- ===== KEY FINDINGS SECTION ===== -->
    <section id="findings" class="py-32 bg-gradient-to-r from-blue-50 via-white to-cyan-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950">
      <div class="max-w-[1600px] mx-auto grid lg:grid-cols-2 gap-20 px-8 items-center">

        <!-- Text -->
        <div>
          <h2 class="text-4xl font-bold text-blue-600 dark:text-blue-400 mb-6">Key Findings</h2>
          <p class="text-lg text-gray-700 dark:text-gray-300 leading-relaxed mb-4">
            <strong>Alcohol/drug use, BMI, and age</strong> significantly increase risk, 
            while <strong>sleep efficiency and physical activity</strong> reduce it. 
            These insights highlight wearable-driven analytics as a tool for proactive health management.
          </p>
        </div>

        <!-- Placeholder image (SHAP or risk wheel) -->
        <div class="flex justify-center">
          <img src="/assets/images/cvd-risk.png" alt="SHAP Feature Importance"
            class="rounded-3xl shadow-xl w-full max-w-lg object-cover" />
        </div>
      </div>
    </section>

    <!-- ===== INTERACTIVE DEMO ===== -->
    <section id="demo" class="py-32 bg-white dark:bg-gray-900 text-center">
      <div class="max-w-[1400px] mx-auto px-8">
        <h2 class="text-4xl font-bold mb-10 text-gray-900 dark:text-white">Interactive Demo</h2>
        <div class="max-w-3xl mx-auto bg-white/80 dark:bg-gray-800/80 shadow-xl rounded-3xl p-10">
          <CVDRiskDemo client:visible />
        </div>
        <p class="text-sm text-gray-500 dark:text-gray-400 pt-6">
          * For educational and visualization purposes only.
        </p>
      </div>
    </section>

    <!-- ===== IMPACT & NEXT STEPS ===== -->
    <section id="impact" class="py-32 text-center bg-gradient-to-r from-blue-600 to-cyan-400 text-white">
      <div class="max-w-4xl mx-auto space-y-6 px-8">

        <h2 class="text-4xl font-bold">Impact & Next Steps</h2>

        <p class="text-lg text-blue-50 max-w-3xl mx-auto leading-relaxed">
          This work demonstrates the potential of interpretable AI in preventive health. 
          Future directions include expanding datasets, real-world validation, and integrating 
          the risk scoring system into digital health platforms.
        </p>

        <a href="/consulting" class="inline-block px-8 py-4 bg-white text-blue-700 font-semibold rounded-xl hover:scale-105 transition">
          Collaborate or Learn More →
        </a>
      </div>
    </section>

    <!-- ===== FOOTER ===== -->
    <footer class="py-12 text-center text-sm text-gray-500 dark:text-gray-400">
      © {new Date().getFullYear()} Xiaomeng Xu — Cardiovascular AI Research
    </footer>

  </body>
</html>

<!-- END OF FILE -->
