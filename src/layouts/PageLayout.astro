---
import Layout from '~/layouts/Layout.astro';
import Header from '~/components/widgets/Header.astro';
import Logo from '~/components/Logo.astro';  // ✅ 引入 logo 组件

import { headerData } from '~/navigation';
import type { MetaData } from '~/types';

export interface Props {
  metadata?: MetaData;
  showHeader?: boolean;
  showFooter?: boolean;
}

const { metadata, showHeader = true, showFooter = true } = Astro.props;
---

<Layout metadata={metadata}>
  <!-- ✅ Header slot -->
  {showHeader && (
    Astro.url.pathname.includes('/projects/')
      ? (
        <!-- ✅ Project 页面专属头部 -->
        <header class="w-full py-4 px-6 flex items-center justify-between border-b border-slate-200 bg-white/80 backdrop-blur">
          <a
            href="/#projects"
            class="text-lg font-semibold text-slate-800 hover:text-indigo-600 transition"
          >
            ← Back to Projects
          </a>
          <!-- ✅ 右侧改成 Logo -->
          <div class="flex items-center justify-center">
            <Logo />
          </div>
        </header>
      )
      : (
        <Header {...headerData} isSticky showToggleTheme />
      )
  )}

  <!-- ✅ Main slot -->
  <main>
    <slot />
  </main>

</Layout>
